<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mental Health: A Central Pillar of Lifestyle Medicine</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f9;
        }
        .aor-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .aor-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        /* Custom Scrollbar for better appearance */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #e0e0e0;
        }
        ::-webkit-scrollbar-thumb {
            background: #60a5fa;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #3b82f6;
        }
        /* Base styling for interactive visualization */
        .protective { background-color: #d1fae5; border-color: #34d399; } /* Green for aOR < 1 */
        .risk { background-color: #fee2e2; border-color: #f87171; } /* Red for aOR > 1 */
        .neutral { background-color: #eff6ff; border-color: #60a5fa; } /* Blue/Neutral for reference/not significant */
    </style>
</head>
<body class="p-4 sm:p-8">

    <div class="max-w-6xl mx-auto bg-white rounded-xl shadow-2xl p-6 md:p-10 mb-12">
        
        <!-- Header & Authors -->
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-extrabold text-blue-800 leading-tight mb-2">
                Is Mental Health A Central Pillar of Lifestyle Medicine?
            </h1>
            <p class="text-lg text-gray-600 mb-4 italic">
                Cross-sectional Study of University Students
            </p>
            <div class="text-sm text-gray-500">
                <p>Dr Farah Rashid, Dr Iffat Noor, M. Junaid Ghazali</p>
                <p>Community Medicine/Public Health - NUST School of Health Sciences, NUST Islamabad</p>
                <p class="mt-2 text-xs">Methods: Cross-sectional survey of 815 undergraduates (2025, Islamabad medical colleges). Outcomes: Anxiety (GAD-7) and Depressive symptoms (PHQ-9).</p>
            </div>
        </header>

        <!-- Main Content Introduction -->
        <div class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-700 mb-3 border-b pb-1">Background</h2>
            <p class="text-gray-700 leading-relaxed">
                University students experience a high burden of common mental disorders. Evidence from South Asia linking modifiable lifestyle and psychosocial factors with symptom severity remains limited. This study investigates the link between sociodemographic, lifestyle behaviors (physical activity, sleep, screen time, social media), and psychosocial factors with anxiety and depressive symptoms.
            </p>
        </div>

        <!-- Interactive Results Section -->
        <h2 class="text-2xl font-bold text-blue-700 mb-6 mt-10 text-center">
            Key Findings: Adjusted Odds Ratios (aOR)
        </h2>
        <p class="text-center text-gray-600 mb-6 text-sm">
            Odds Ratios are calculated against a reference group (aOR = 1.00). An aOR less than 1.00 is **Protective** (Green). An aOR greater than 1.00 indicates **Risk** (Red).
        </p>

        <div id="results-container" class="space-y-8">
            <!-- Results Cards will be injected here by JavaScript -->
        </div>

        <!-- Conclusion -->
        <div class="mt-12 pt-8 border-t border-gray-300">
            <h2 class="text-2xl font-semibold text-gray-700 mb-3">Conclusion</h2>
            <p class="text-gray-700 leading-relaxed p-4 bg-yellow-50 rounded-lg border border-yellow-200 shadow-inner">
                Taken together, these results suggest that mental health is not isolated but woven into lifestyle choices and environments. Students with stronger mental health also displayed healthier lifestyle habits—balanced sleep, physical activity, moderated screen use, adaptive coping, and better social support. Conversely, those struggling with anxiety and depression exhibited more lifestyle disruptions. This positions mental health as a central pillar of lifestyle medicine. Improving student wellbeing will require not only psychological support but also lifestyle interventions addressing sleep hygiene, physical activity, digital behaviors, and social connectedness.
            </p>
        </div>

    </div>

    <script>
        // Data structure containing all study results
        const studyData = [
            {
                category: "Socio-demographic Factors",
                factor: "Sex",
                details: [
                    { label: "Female", frequency: "550 (67.5%)", aOR_Anxiety: { value: 1.00, ci: "Ref.", p: "" } },
                    { label: "Male", frequency: "265 (32.5%)", aOR_Anxiety: { value: 0.47, ci: "0.35–0.63", p: "< 0.001", type: "protective" }, aOR_Depression: { value: 0.61, ci: "0.45–0.82", p: "0.001", type: "protective" } }
                ]
            },
            {
                category: "Socio-demographic Factors",
                factor: "Academic Year",
                details: [
                    { label: "First-year", frequency: "400 (49.1%)", aOR_Anxiety: { value: 1.00, ci: "Ref.", p: "" } },
                    { label: "Second-year", frequency: "415 (50.9%)", aOR_Anxiety: { value: 1.00, ci: "N/A", p: "N/S" }, aOR_Depression: { value: 1.41, ci: "1.08–1.98", p: "0.013", type: "risk" } }
                ]
            },
            {
                category: "Lifestyle Behaviors",
                factor: "Physical Activity",
                details: [
                    { label: "Highly active", frequency: "208 (25.5%)", aOR_Anxiety: { value: 1.00, ci: "Ref.", p: "" } },
                    { label: "Moderate", frequency: "353 (43.3%)", aOR_Anxiety: { value: "N/A", ci: "N/A", p: "N/S" } }, // Assuming Moderate is N/S (Not Significant)
                    { label: "Sedentary", frequency: "254 (31.2%)", aOR_Anxiety: { value: 1.51, ci: "1.00–2.29", p: "0.049", type: "risk" }, aOR_Depression: { value: 1.55, ci: "1.05–2.29", p: "0.029", type: "risk" } }
                ]
            },
            {
                category: "Lifestyle Behaviors",
                factor: "Sleep Patterns",
                details: [
                    { label: "Irregular sleep", frequency: "364 (44.6%)", aOR_Anxiety: { value: 1.00, ci: "Ref.", p: "" } },
                    { label: "<6 hours", frequency: "189 (23.2%)", aOR_Anxiety: { value: "N/A", ci: "N/A", p: "N/S" } }, // Data is against Irregular, assuming <6h is included in Irregular or N/S
                    { label: "Regular sleep", frequency: "262 (32.2%)", aOR_Anxiety: { value: 0.51, ci: "0.36–0.72", p: "< 0.001", type: "protective" }, aOR_Depression: { value: 0.44, ci: "0.31–0.61", p: "< 0.001", type: "protective" } }
                ]
            },
            {
                category: "Lifestyle Behaviors",
                factor: "Screen Time",
                details: [
                    { label: "≥5 hours", frequency: "444 (54.5%)", aOR_Anxiety: { value: 1.00, ci: "Ref.", p: "" } },
                    { label: "3–4 hours", frequency: "230 (28.3%)", aOR_Anxiety: { value: "N/A", ci: "N/A", p: "N/S" } }, // Data is against ≥5 hours, assuming 3-4h is N/S
                    { label: "<2 hours/day", frequency: "140 (17.2%)", aOR_Anxiety: { value: 0.56, ci: "0.36–0.89", p: "0.01", type: "protective" }, aOR_Depression: { value: 0.43, ci: "0.27–0.69", p: "< 0.001", type: "protective" } }
                ]
            },
            {
                category: "Psychosocial Factors",
                factor: "Coping Style",
                details: [
                    { label: "Positive coping", frequency: "377 (46.3%)", aOR_Anxiety: { value: 1.00, ci: "Ref.", p: "" } },
                    { label: "Negative coping", frequency: "438 (53.7%)", aOR_Anxiety: { value: 1.88, ci: "1.43–2.47", p: "< 0.001", type: "risk" }, aOR_Depression: { value: 2.05, ci: "1.56–2.69", p: "< 0.001", type: "risk" } }
                ]
            },
            {
                category: "Psychosocial Factors",
                factor: "Family Support",
                details: [
                    { label: "Strong", frequency: "589 (72.3%)", aOR_Anxiety: { value: 1.00, ci: "Ref.", p: "" } },
                    { label: "Weak", frequency: "226 (27.7%)", aOR_Anxiety: { value: 1.62, ci: "1.22–2.17", p: "0.001", type: "risk" }, aOR_Depression: { value: 2.03, ci: "1.52–2.70", p: "< 0.001", type: "risk" } }
                ]
            },
            {
                category: "Psychosocial Factors",
                factor: "Social Support",
                details: [
                    { label: "Strong", frequency: "561 (68.8%)", aOR_Anxiety: { value: 1.00, ci: "Ref.", p: "" } },
                    { label: "Weak", frequency: "254 (31.2%)", aOR_Anxiety: { value: 1.58, ci: "1.20–2.09", p: "0.001", type: "risk" }, aOR_Depression: { value: 1.83, ci: "1.38–2.42", p: "< 0.001", type: "risk" } }
                ]
            },
            {
                category: "Psychosocial Factors",
                factor: "Peer Pressure",
                details: [
                    { label: "Reported pressure", frequency: "352 (43.2%)", aOR_Anxiety: { value: 1.00, ci: "Ref.", p: "" } }, // Inferred baseline is those who reported pressure (815-463)
                    { label: "No peer pressure", frequency: "463 (56.8%)", aOR_Anxiety: { value: 0.36, ci: "0.27–0.49", p: "< 0.001", type: "protective" }, aOR_Depression: { value: 0.29, ci: "0.21–0.40", p: "< 0.001", type: "protective" } }
                ]
            },
            // Residence was not significantly associated, so we omit it for focus on key findings
            // If Residence was included:
            // { category: "Socio-demographic Factors", factor: "Residence", details: [...] }
        ];

        // Function to determine CSS classes for visual emphasis
        const getAORClasses = (aOR, pValue) => {
            if (pValue && pValue.toLowerCase() === "n/s") return "bg-gray-100 text-gray-500 border-gray-300";
            if (aOR.value === 1.00 || aOR.ci === "Ref.") return "bg-blue-100 text-blue-700 border-blue-400";
            if (aOR.type === "protective") return "protective text-green-700 border-green-500";
            if (aOR.type === "risk") return "risk text-red-700 border-red-500";
            return "bg-gray-100 text-gray-700 border-gray-300";
        };

        // Function to format the aOR display
        const formatAOR = (aOR) => {
            if (aOR.ci === "Ref.") return `<span class="font-bold">Reference</span>`;
            if (aOR.value === "N/A") return `<span class="italic text-gray-500">Not Significant</span>`;
            return `
                <span class="font-bold text-lg">${aOR.value}</span>
                <span class="text-xs"> (95% CI: ${aOR.ci})</span>
                <span class="text-xs mt-1 block">p = ${aOR.p}</span>
            `;
        };

        // Main rendering function
        function renderResults() {
            const container = document.getElementById('results-container');
            let currentCategory = "";

            studyData.forEach(studyItem => {
                if (studyItem.category !== currentCategory) {
                    currentCategory = studyItem.category;
                    container.innerHTML += `
                        <h3 class="text-2xl font-bold text-gray-800 border-b-2 border-blue-200 pb-2 mb-4 mt-6">
                            ${currentCategory}
                        </h3>
                    `;
                }

                // Start of factor block
                container.innerHTML += `
                    <div class="mb-4 p-4 bg-gray-50 rounded-lg shadow-sm border-l-4 border-blue-500">
                        <h4 class="text-xl font-semibold text-gray-700 mb-4">${studyItem.factor}</h4>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            ${studyItem.details.map(detail => {
                                const aorAnxietyClasses = getAORClasses(detail.aOR_Anxiety, detail.aOR_Anxiety.p);
                                const aorDepressionClasses = getAORClasses(detail.aOR_Depression || {}, detail.aOR_Depression?.p);

                                return `
                                    <div class="aor-card bg-white p-4 rounded-xl shadow-md space-y-3">
                                        <p class="text-base font-semibold text-gray-900">${detail.label}</p>
                                        <p class="text-sm text-gray-600">Frequency: <span class="font-medium">${detail.frequency}</span></p>
                                        
                                        <!-- Anxiety Odds Ratio -->
                                        <div class="p-3 rounded-lg border-2 ${aorAnxietyClasses}">
                                            <p class="text-xs font-semibold mb-1">Odds Ratio for Anxiety (GAD-7)</p>
                                            ${formatAOR(detail.aOR_Anxiety)}
                                        </div>

                                        <!-- Depression Odds Ratio -->
                                        ${detail.aOR_Depression ? `
                                        <div class="p-3 rounded-lg border-2 ${aorDepressionClasses}">
                                            <p class="text-xs font-semibold mb-1">Odds Ratio for Depression (PHQ-9)</p>
                                            ${formatAOR(detail.aOR_Depression)}
                                        </div>
                                        ` : ''}
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                `;
            });
        }

        // Initialize the app
        window.onload = renderResults;
    </script>

</body>
</html>
